local player = game.Players.LocalPlayer
local Library = {}

function Library:CreateWindow(title)
	local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
	screenGui.Name = "LumeUIV2"
	screenGui.ResetOnSpawn = false

	local mainFrame = Instance.new("Frame")
	mainFrame.Size = UDim2.new(0, 700, 0, 450)
	mainFrame.Position = UDim2.new(0.5, -350, 0.5, -225)
	mainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
	mainFrame.BackgroundTransparency = 0.25
	mainFrame.BorderSizePixel = 0
	mainFrame.Active = true
	mainFrame.Draggable = true
	mainFrame.Parent = screenGui

	local titleLabel = Instance.new("TextLabel")
	titleLabel.Size = UDim2.new(1, -20, 0, 40)
	titleLabel.Position = UDim2.new(0, 10, 0, 0)
	titleLabel.BackgroundTransparency = 1
	titleLabel.Text = title or "Lume UI V2"
	titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
	titleLabel.Font = Enum.Font.GothamBold
	titleLabel.TextSize = 20
	titleLabel.TextXAlignment = Enum.TextXAlignment.Left
	titleLabel.Parent = mainFrame

	local tabList = Instance.new("Frame")
	tabList.Name = "TabList"
	tabList.Size = UDim2.new(0, 120, 1, -50)
	tabList.Position = UDim2.new(0, 10, 0, 45)
	tabList.BackgroundTransparency = 1
	tabList.Parent = mainFrame

	local separator = Instance.new("Frame")
	separator.Size = UDim2.new(0, 2, 1, -50)
	separator.Position = UDim2.new(0, 130, 0, 45)
	separator.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	separator.BorderSizePixel = 0
	separator.Parent = mainFrame

	local tabLayout = Instance.new("UIListLayout", tabList)
	tabLayout.Padding = UDim.new(0, 6)
	tabLayout.SortOrder = Enum.SortOrder.LayoutOrder

	local contentFrame = Instance.new("Frame")
	contentFrame.Name = "ContentFrame"
	contentFrame.Position = UDim2.new(0, 140, 0, 45)
	contentFrame.Size = UDim2.new(1, -150, 1, -55)
	contentFrame.BackgroundTransparency = 1
	contentFrame.Parent = mainFrame

	local currentTab
	local window = {}

	function window:AddTab(tabName)
		local tab = {}

		local tabBtn = Instance.new("TextButton")
		tabBtn.Size = UDim2.new(1, 0, 0, 36)
		tabBtn.Text = tabName
		tabBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
		tabBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
		tabBtn.Font = Enum.Font.GothamBold
		tabBtn.TextSize = 14
		tabBtn.Parent = tabList

		local tabFrame = Instance.new("Frame")
		tabFrame.Size = UDim2.new(1, 0, 1, 0)
		tabFrame.BackgroundTransparency = 1
		tabFrame.Visible = false
		tabFrame.Parent = contentFrame

		local layout = Instance.new("UIListLayout", tabFrame)
		layout.Padding = UDim.new(0, 6)

		tabBtn.MouseButton1Click:Connect(function()
			if currentTab then currentTab.Visible = false end
			tabFrame.Visible = true
			currentTab = tabFrame
		end)

		function tab:AddButton(text, callback)
			local button = Instance.new("TextButton")
			button.Size = UDim2.new(0, 200, 0, 30)
			button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
			button.TextColor3 = Color3.fromRGB(255, 255, 255)
			button.Font = Enum.Font.GothamBold
			button.TextSize = 12
			button.Text = text
			button.Parent = tabFrame
			button.MouseButton1Click:Connect(callback)
		end

		function tab:AddLabel(text)
			local label = Instance.new("TextLabel")
			label.Size = UDim2.new(0, 200, 0, 25)
			label.BackgroundTransparency = 1
			label.Text = text
			label.TextColor3 = Color3.fromRGB(220, 220, 220)
			label.Font = Enum.Font.GothamBold
			label.TextSize = 12
			label.TextXAlignment = Enum.TextXAlignment.Left
			label.Parent = tabFrame
		end

		return tab
	end

	return window
end

return Library
